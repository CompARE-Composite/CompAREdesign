setwd("C:/Users/jordi/My Drive/CompARE package/CompARE-package/CompARE-package")
setwd("C:/Users/jcortes/My Drive/CompARE package/CompARE-package/CompARE-package")
devtools::document()
devtools::load_all()
# Build & check package
devtools::build(pkg = "C:/Users/jcortes/My Drive/CompARE package/CompARE-package/CompARE-package", path = NULL, binary = FALSE, manual = TRUE)
p1=p0_e1=.59#0.2
p2=p0_e2=.74#0.2
HR1=HR_e1=.91#0.9
HR2=HR_e2=.77#0.6
beta1=beta_e1=1#0.5
beta2=beta_e2=2#0.5
case = 3#4
copula='Frank'
rho = 0.5#0.7
rho_type='Spearman'
setwd('C:/Users/jcortes/My Drive/CompARE package/CompARE-package/CompARE-package/R')
list_files0 <- list.files()
list_files <- list_files0[grepl('\\.R',list_files0)]
for(f in list_files) source(f)
setwd('C:/Users/jcortes/My Drive/CompARE package/CompARE-package/CompARE-package/R')
list_files0 <- list.files()
list_files <- list_files0[grepl('\\.R',list_files0)]
for(f in list_files) source(f)
library(copula)
library(numDeriv)
library(rootSolve)
# library(eha)
library(ggplot2)
library(gridExtra) ##--> Falta incluirla en el paquete!
library(ggpubr)    ##--> Falta incluirla en el paquete!
##-- Parameters
p1=p0_e1=.59#0.2
p2=p0_e2=.74#0.2
HR1=HR_e1=.91#0.9
HR2=HR_e2=.77#0.6
beta1=beta_e1=1#0.5
beta2=beta_e2=2#0.5
case = 3#4
copula='Frank'
rho = 0.5#0.7
rho_type='Spearman'
#########################
# plot
#########################
plot_tte(p0_e1=p1, p0_e2=p2, HR_e1=HR1, HR_e2=HR2, beta_e1=beta1, beta_e2=beta2,
case = case, rho=rho, copula = copula, rho_type=rho_type,
followup_time=1,
alpha=0.05, power=0.80 ,ss_formula='schoendfeld')
a1 <- samplesize_tte(p0_e1, p0_e2, HR_e1, HR_e2, beta_e1=1, beta_e2=0.5, case, copula = 'Frank',
rho=0.3, rho_type='Spearman', alpha=0.05, power=0.80 ,ss_formula='schoendfeld',
plot_res = FALSE, plot_store=TRUE)
a2 <- samplesize_tte(p0_e1, p0_e2, HR_e1, HR_e2, beta_e1=1, beta_e2=1, case, copula = 'Frank',
rho=0.3, rho_type='Spearman', alpha=0.05, power=0.80 ,ss_formula='schoendfeld',
plot_res = FALSE, plot_store=TRUE)
a3 <- samplesize_tte(p0_e1, p0_e2, HR_e1, HR_e2, beta_e1=1, beta_e2=2, case, copula = 'Frank',
rho=0.3, rho_type='Spearman', alpha=0.05, power=0.80 ,ss_formula='schoendfeld',
plot_res = FALSE, plot_store=TRUE)
a4 <- samplesize_tte(p0_e1, p0_e2, HR_e1, HR_e2, beta_e1=0.5, beta_e2=2, case, copula = 'Frank',
rho=0.3, rho_type='Spearman', alpha=0.05, power=0.80 ,ss_formula='schoendfeld',
plot_res = FALSE, plot_store=TRUE)
ggarrange(a1$gg_object,a2$gg_object,
a3$gg_object,a4$gg_object)
a4 <- samplesize_tte(p0_e1, p0_e2, HR_e1, HR_e2, beta_e1=2, beta_e2=0.5, case, copula = 'Frank',
rho=0.3, rho_type='Spearman', alpha=0.05, power=0.80 ,ss_formula='schoendfeld',
plot_res = FALSE, plot_store=TRUE)
ggarrange(a1$gg_object,a2$gg_object,
a3$gg_object,a4$gg_object)
ggarrange(a1$gg_object + xlim(500,800),a2$gg_object,
a3$gg_object,a4$gg_object)
ggarrange(a1$gg_object + ylim(500,800),a2$gg_object,
a3$gg_object,a4$gg_object)
ggarrange(a1$gg_object + ylim(500,800),
a2$gg_object + ylim(500,800),
a3$gg_object + ylim(500,800),
a4$gg_object + ylim(500,800))
a4 <- samplesize_tte(p0_e1, p0_e2, HR_e1, HR_e2, beta_e1=2, beta_e2=2, case, copula = 'Frank',
rho=0.3, rho_type='Spearman', alpha=0.05, power=0.80 ,ss_formula='schoendfeld',
plot_res = FALSE, plot_store=TRUE)
ggarrange(a1$gg_object + ylim(500,800),
a2$gg_object + ylim(500,800),
a3$gg_object + ylim(500,800),
a4$gg_object + ylim(500,800))
a4 <- samplesize_tte(p0_e1, p0_e2, HR_e1, HR_e2, beta_e1=0.5, beta_e2=0.5, case, copula = 'Frank',
rho=0.3, rho_type='Spearman', alpha=0.05, power=0.80 ,ss_formula='schoendfeld',
plot_res = FALSE, plot_store=TRUE)
ggarrange(a1$gg_object + ylim(500,800),
a2$gg_object + ylim(500,800),
a3$gg_object + ylim(500,800),
a4$gg_object + ylim(500,800))
a4 <- samplesize_tte(p0_e1, p0_e2, HR_e1, HR_e2, beta_e1=2, beta_e2=1, case, copula = 'Frank',
rho=0.3, rho_type='Spearman', alpha=0.05, power=0.80 ,ss_formula='schoendfeld',
plot_res = FALSE, plot_store=TRUE)
ggarrange(a1$gg_object + ylim(500,800),
a2$gg_object + ylim(500,800),
a3$gg_object + ylim(500,800),
a4$gg_object + ylim(500,800))
a4 <- samplesize_tte(p0_e1, p0_e2, HR_e1, HR_e2, beta_e1=1, beta_e2=1, case=4, copula = 'Frank',
rho=0.3, rho_type='Spearman', alpha=0.05, power=0.80 ,ss_formula='schoendfeld',
plot_res = FALSE, plot_store=TRUE)
a4 <- samplesize_tte(p0_e1, p0_e2, HR_e1, HR_e2, beta_e1=1, beta_e2=1, case=1, copula = 'Frank',
rho=0.3, rho_type='Spearman', alpha=0.05, power=0.80 ,ss_formula='schoendfeld',
plot_res = FALSE, plot_store=TRUE)
ggarrange(a1$gg_object + ylim(500,800),
a2$gg_object + ylim(500,800),
a3$gg_object + ylim(500,800),
nrow=1)
ggarrange(a1$gg_object + ylim(500,750),
a2$gg_object + ylim(500,750),
a3$gg_object + ylim(500,750),
nrow=1)
9/26
